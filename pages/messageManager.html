<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Message Manager</title>
    <script type="text/javascript" src="socket.io-client/socket.io.js"></script>
    <script type="text/javascript" src="jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="jquery-ui/jquery-ui.min.js"></script>
    <script type="text/javascript" src="jquery-ui-touch-punch/jquery.ui.touch-punch.min.js"></script>
    <script type="text/javascript" src="scripts/widgets.js"></script>
    <script type="text/javascript" src="scripts/controller.js"></script>
    <script type="text/javascript" src="scripts/uploader.js"></script>
    <script type="text/javascript" src="scripts/messages/messageManager.js"></script>
    <script type="text/javascript" src="scripts/messages/message.js"></script>
    <script type="text/javascript" src="scripts/messages/messageList/helpers.js"></script>
    <script type="text/javascript" src="scripts/messages/messageList/messageDetail.widget.js"></script>
    <script type="text/javascript" src="scripts/messages/messageList/sendMessageQueue.widget.js"></script>
    <script type="text/javascript" src="scripts/messages/messageList/editMessage.widget.js"></script>
    <script type="text/javascript" src="scripts/messages/messageList/editQueue.widget.js"></script>
    <script type="text/javascript" src="scripts/messages/messageList/loadQueue.widget.js"></script>
    <script type="text/javascript" src="scripts/messages/messageList/uploadLog.widget.js"></script>
    <script type="text/javascript" src="scripts/messages/messageList/messageList.widget.js"></script>
    <script type="text/javascript" src="scripts/messages/doc/messageDoc.js"></script>
    <link rel="stylesheet" type="text/css" href="jquery-ui/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="jquery-ui/jquery-ui.theme.css" />
    <link rel="stylesheet" type="text/css" href="font-awesome/css/all.css" />
    <link rel="stylesheet" type="text/css" href="themes/widgets.css" />
    <link rel="stylesheet" type="text/css" href="themes/controller.css" />
    <link rel="stylesheet" type="text/css" href="themes/vlist.css" />
    <link rel="stylesheet" type="text/css" href="themes/messageManager.css" />
    <!-- Blank stylesheet for message responses -->
    <style id="responseStyles" type="text/css">
    </style>
    <script type="text/javascript">
        // Add in the current theme for the pool controller.
        var theme = getStorage('dashTheme', 'default');
        $('<link id="cssref_theme" rel="stylesheet" type="text/css" href="themes/' + theme + '/theme.css" />').appendTo($('head'));
    </script>

</head>
<body>
    <div class="mmgrOuter picMessageManager" data-panel="messages">
        <header>
            <div class="picController picControlPanel control-panel" style="display:block;"></div>
        </header>
        <div class="messageContainer">
            <div class="sendQueueTopContainer">
                <div class="picSendMessageQueue picControlPanel control-panel" style="display:block;"></div>
            </div>
            <div class="messagesContentContainer">
                <div class="picMessages picControlPanel control-panel" style="display:block;"></div>
                <div class="picMessageDetail picControlPanel control-panel" style="display:none;"></div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function () {
            var background = getStorage('dashBackground', '');
            if (typeof background !== 'undefined' && background !== '')
                $(document.body).css('background-image', `url(${background})`);
            else
                $(document.body).css('background-image', '');
            console.log(background);
            $('div.picMessageManager').messageManager();
            $('div.picController').controller();
            $('div.picMessages').messageList();
            $('div.picSendMessageQueue').sendMessageQueue();
            $('div.picMessageDetail').messageDetail();
        });
    </script>
</body>
</html>